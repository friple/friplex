:root{
  --bg-top:#f7fbff;    /* светлее лед */
  --bg-bottom:#eaf7ff; /* мягкий низ */
  --accent:#3ec5ff;    /* яркий голубой */
  --accent-2:#8b5cf6;  /* контрастный пурпур */
  --card:#ffffffee;
  --muted:#6f8fa0;
  --indicator:#ff6b6b;
  --outline:#d9eefc;
  --success:#2eb85c;
  --shadow: 0 18px 60px rgba(2,24,64,0.12);
  --glass: rgba(255,255,255,0.72);
}
*{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Roboto,Arial}
html,body,#app{height:100%;margin:0;background:linear-gradient(180deg,var(--bg-top),var(--bg-bottom));color:#04315a}
.app{display:flex;flex-direction:column;min-height:100vh;position:relative;padding-bottom:28px;overflow:hidden}

/* garland & stars */
.garland{position:fixed;top:8px;left:50%;transform:translateX(-50%);display:flex;gap:10px;z-index:60;pointer-events:none}
.garland-bulb{width:16px;height:16px;border-radius:50%;box-shadow:0 6px 14px rgba(0,0,0,0.12)}
.garland-bulb.b1{background:linear-gradient(180deg,#ff9fb3,#ff6b8f)}
.garland-bulb.b2{background:linear-gradient(180deg,#ffd07a,#ffb44a)}
.garland-bulb.b3{background:linear-gradient(180deg,#b6f0c3,#61d688)}
.garland-bulb.b4{background:linear-gradient(180deg,#bcd8ff,#6ea7ff)}

/* subtle snowfall overlay */
.app::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background-image:
    radial-gradient(#ffffff33 1px, transparent 1px),
    radial-gradient(#ffffff22 2px, transparent 2px);
  background-size:18px 18px, 60px 60px;
  opacity:0.85;
  mix-blend-mode:screen;
  animation:snow 18s linear infinite;
  z-index:1;
}
@keyframes snow{0%{transform:translateY(0)}100%{transform:translateY(48px)}}

/* header */
.topbar{padding:16px 18px;display:flex;align-items:center;justify-content:center;z-index:8}
.topbar-inner{width:100%;max-width:1100px;padding:6px 12px}
.topbar h1{margin:0;font-size:16px;color:#022842;font-weight:700}

/* layout */
.page{padding:24px 18px;flex:1;overflow:auto;position:relative;z-index:4}
.hidden{display:none}

/* card base */
.card{
  background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(245,253,ff,0.95));
  padding:16px;border-radius:16px;box-shadow:var(--shadow);
  border:1px solid rgba(255,255,255,0.6);
  backdrop-filter: blur(6px);
}

/* hero and buttons */
.card-hero{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:18px}
.muted{color:var(--muted)}
.btn{background:transparent;border:0;padding:8px 12px;border-radius:12px;color:#022c4a;cursor:pointer}
.btn-primary{
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  color:#fff;padding:8px 12px;border-radius:12px;border:0;cursor:pointer;
  box-shadow:0 10px 28px rgba(62,197,255,0.12);
}

/* roulette list */
.roulette-list{display:flex;flex-direction:column;gap:14px}
.card-roulette{
  cursor:pointer;border:1px solid transparent;transition:transform .22s cubic-bezier(.2,.9,.2,1),box-shadow .22s, border-color .22s, background .3s;
  padding:18px;border-radius:14px;background:linear-gradient(180deg,#ffffff,#f6fbff);
  display:flex;align-items:center;justify-content:space-between;gap:12px;
}
.card-roulette:hover{transform:translateY(-6px);box-shadow:0 28px 68px rgba(6,30,60,0.14);border-color:var(--outline)}
.card-roulette.selected{
  background:linear-gradient(180deg,#f2fbff,#eef7ff);
  border:1px solid rgba(62,197,255,0.28);
  box-shadow:0 18px 48px rgba(62,197,255,0.12);
  transform:translateY(-6px) scale(1.01);
  outline: 4px solid rgba(155,230,255,0.12);
}
.card-head{display:flex;align-items:center;justify-content:space-between;gap:12px}
.tag{
  background:linear-gradient(90deg,var(--accent-2),var(--accent));color:#fff;padding:6px 10px;border-radius:10px;font-weight:800;font-size:13px;
  box-shadow:0 6px 18px rgba(62,197,255,0.08);
}

/* modal & wheel */
.modal{position:fixed;inset:0;background:linear-gradient(180deg,rgba(2,30,50,0.16),rgba(2,34,60,0.45));display:flex;align-items:center;justify-content:center;z-index:60}
.modal.hidden{display:none}
.modal-content{width:94%;max-width:780px;background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(245,253,ff,0.98));padding:20px;border-radius:18px;position:relative;box-shadow:0 38px 120px rgba(3,28,60,0.38)}
.modal-close{position:absolute;right:12px;top:12px;border:0;background:transparent;font-size:18px;cursor:pointer}
.modal-controls{display:flex;align-items:center;gap:12px;margin-top:14px;flex-wrap:wrap}
.modal-result{margin-top:12px;min-height:26px;font-weight:700;color:#05336b}

/* speed */
.speed-controls{display:flex;align-items:center;gap:8px}
.speed-label{font-size:13px;color:var(--muted)}
.speed-buttons{display:flex;gap:6px}
.speed-btn{padding:6px 10px;border-radius:10px;border:1px solid #e6f3ff;background:#fff;cursor:pointer}
.speed-btn.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border:0}

/* wheel */
.wheel-wrap{position:relative;display:flex;align-items:center;justify-content:center;margin:12px 0}
.wheel-indicator{position:absolute;top:-34px;left:50%;transform:translateX(-50%);width:16px;height:32px;background:linear-gradient(180deg,#ff7a7a,#ff3b3b);border-radius:6px;box-shadow:0 8px 20px rgba(0,0,0,0.14);z-index:8}
.wheel-outline{padding:10px;border-radius:999px;background:linear-gradient(180deg,#fff,#eef9ff);box-shadow:0 18px 68px rgba(3,20,50,0.12);border:3px solid var(--outline);position:relative}
.wheel-canvas{border-radius:50%;background:transparent;display:block;cursor:pointer;transform-origin:center center;box-shadow:0 20px 60px rgba(10,40,80,0.08)}

/* win popup */
.win-popup{position:absolute;left:50%;transform:translateX(-50%);bottom:26px;z-index:80;min-width:340px;background:linear-gradient(180deg,#ffffff,#f7feff);border-radius:14px;padding:12px;box-shadow:0 20px 60px rgba(6,30,60,0.14);display:flex;align-items:center;gap:12px}
.win-popup.hidden{display:none}
.win-sticker{width:84px;height:84px;border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:40px;background:linear-gradient(180deg,#fff,#f6fbff);box-shadow:0 10px 28px rgba(6,30,60,0.06)}
.win-text{font-weight:800;color:#05336b}
.win-actions{display:flex;gap:8px;margin-left:auto}
.win-actions .btn{padding:8px 12px}

/* confetti */
.confetti{position:absolute;inset:0;pointer-events:none;overflow:hidden;z-index:78}
.confetti .p{position:absolute;width:10px;height:10px;border-radius:2px;opacity:0;transform:translateY(-20px);animation:fall 1200ms linear forwards}
@keyframes fall{0%{opacity:1;transform:translateY(-20px) rotate(0deg)}100%{opacity:1;transform:translateY(520px) rotate(360deg)}}

/* inventory */
.inventory-panel{margin-top:16px;border:1px solid rgba(155,230,255,0.18);padding:12px;border-radius:12px;background:linear-gradient(180deg,#fbfeff,#eff9ff)}
.inventory-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.inventory-grid{display:flex;gap:12px;flex-wrap:wrap;padding-top:8px}
.inventory-item{min-width:140px;padding:12px;border-radius:14px;background:linear-gradient(180deg,#fff,#f6fbff);box-shadow:0 12px 34px rgba(10,30,60,0.06);border:1px solid #e6f3ff;display:flex;flex-direction:column;align-items:center;gap:8px}
.sticker-emoji{font-size:36px;width:76px;height:76px;border-radius:14px;background:linear-gradient(180deg,#fff,#fbfdff);display:flex;align-items:center;justify-content:center;box-shadow:0 10px 28px rgba(10,30,60,0.06)}
.inventory-item .label{font-size:14px;color:#063366}
.inventory-item .sub{font-size:13px;color:var(--muted)}
.sell-btn{margin-top:6px;padding:8px 10px;border-radius:10px;border:0;background:linear-gradient(90deg,#ffd6d6,#ffb7b7);color:#900;cursor:pointer;box-shadow:0 8px 22px rgba(255,120,120,0.06)}

/* withdraw/topup */
.withdraw-btn{margin-top:8px;background:linear-gradient(90deg,#ffd07a,#ffb3c1);border-radius:10px;padding:8px 12px;border:0;cursor:pointer}
.topup-btn{padding:8px 12px;border-radius:10px;border:1px solid #e6f3ff;background:#fff;cursor:pointer}
.topup-btn.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border:0;box-shadow:0 10px 28px rgba(11,64,128,0.08)}

/* balance panel */
.balance-panel{position:fixed;right:18px;top:50%;transform:translateY(-50%);width:180px;padding:12px;border-radius:14px;background:linear-gradient(180deg,#ffffff,#f3fbff);box-shadow:0 24px 68px rgba(6,30,60,0.12);border:1px solid rgba(155,230,255,0.16);z-index:50;display:flex;flex-direction:column;align-items:center;gap:6px}
.bp-title{font-size:13px;color:var(--muted)}
.bp-value{font-size:22px;font-weight:900;color:#0b4a88}
.bp-sub{font-size:12px;color:var(--muted)}

/* history */
.history-list{margin-top:12px;max-height:520px;overflow:auto}
.history-item{display:flex;justify-content:space-between;align-items:flex-start;padding:12px;border-bottom:1px solid rgba(230,245,255,0.8)}
.history-left{font-size:13px}
.history-id{font-family:monospace;color:#6f8fa0;font-size:12px}
.history-amount{font-weight:800}

/* bottom nav */
.bottom-nav{display:flex;gap:10px;padding:14px;position:sticky;bottom:12px;margin:0 12px;border-radius:14px;z-index:60;justify-content:center;background:transparent}
.nav-btn{min-width:84px;min-height:44px;padding:10px 12px;border-radius:12px;border:0;background:#ffffff11;cursor:pointer;color:#04315a;display:inline-flex;align-items:center;justify-content:center;box-shadow:0 6px 18px rgba(6,30,60,0.04)}
.nav-btn.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;font-weight:700;box-shadow:0 10px 28px rgba(11,64,128,0.12)}

/* Profile specific */
.profile{display:flex;flex-direction:column;gap:12px}
.profile-block{display:flex;gap:18px;align-items:flex-start;padding:18px}
.profile-left{flex:0 0 auto}
.profile-info{flex:1 1 auto}
.tg-avatar{width:96px;height:96px;border-radius:18px;background:linear-gradient(180deg,#fff,#f3fbff);display:flex;align-items:center;justify-content:center;font-size:36px;border:1px solid #e6f3ff;box-shadow:0 14px 38px rgba(6,30,60,0.08)}
.avatar-emoji{font-size:34px}
.username{font-weight:900;font-size:18px;color:#073257}
.tg-row{display:flex;gap:10px;align-items:center;margin-top:6px}
.tg-nick{font-weight:700;color:#0b4a88}
.profile-id{font-size:13px}
.send-gift-card{margin-top:12px;padding:12px;border-radius:12px;background:linear-gradient(180deg,#fff,#fbfeff);border:1px solid #e6f3ff;box-shadow:0 8px 22px rgba(6,30,60,0.04);max-width:520px}
.send-row{display:flex;align-items:center;justify-content:space-between;gap:12px}

/* Confirm modal (custom) */
.confirm-modal-backdrop{
  position:fixed;inset:0;background:rgba(2,20,40,0.36);display:flex;align-items:center;justify-content:center;z-index:120;
}
.confirm-modal{
  background:linear-gradient(180deg,#ffffff,#f6fbff);padding:18px;border-radius:12px;box-shadow:0 28px 80px rgba(3,28,60,0.28);width:92%;max-width:420px;text-align:center;
}
.confirm-modal .msg{font-weight:700;margin-bottom:12px}
.confirm-modal .buttons{display:flex;gap:10px;justify-content:center}
.confirm-modal .buttons .btn{min-width:100px}

/* small accent */
.accent{color:var(--accent);font-weight:700}

@media(min-width:920px){ .page{padding:36px 60px} .bottom-nav{max-width:720px;margin:0 auto} }
